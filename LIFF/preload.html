<link href="/css/glyphicons.css" rel="stylesheet">
<link href="/css/select2.min.css" rel="stylesheet" type="text/css"/>


<!--  Shop Style Sheet ฝั่งร้านค้า  -->
<link href="/css/shop_stylesheet.css?v=35" rel="stylesheet" type="text/css"/>
<link href="/css/shop_accordion.css" rel="stylesheet" type="text/css"/>





<link href="https://getbootstrap.com/docs/4.4/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://getbootstrap.com/docs/4.4/dist/js/bootstrap.bundle.min.js"></script>

<!--<script src="/js/bootstrap_4.3.1.min.js" type="text/javascript"></script>-->
<link href="https://fonts.googleapis.com/css?family=Kanit&display=swap" rel="stylesheet">
<link href="/css/fontawesome.min.css" rel="stylesheet" type="text/css"/>
<script src="/js/fontawesome.min.js" type="text/javascript"></script>
<script src="/js/moments.min.js" type="text/javascript"></script>

<script src="/js/select2.min.js" type="text/javascript"></script>
<script src="/js/select2tags.js" type="text/javascript"></script>

<script src="/js/bootstrap-editable.min.js" type="text/javascript"></script>
<link href="/css/all.css" rel="stylesheet" type="text/css"/>
<script src="/js/all.js" type="text/javascript"></script>
<script src="/LIFF/advws_util.js?v=37" type="text/javascript"></script>
<link href="/css/custom.css" rel="stylesheet" type="text/css"/>
<script  src="//maps.googleapis.com/maps/api/js?key=AIzaSyCtmaHPJrAuVbP8tpx2ng09cKyf9z1tR34&libraries=places&language=th&region=TH">
</script>

<style>
    .main-content { background: #fff; padding: 20px; margin-top: 48px; border:1px solid #fff;}
    .body { color: #545559; font-weight: 400;  line-height: 1.471; background: #2772B8 !important;  }

    /* custom css */
    .border-left-primary {
        border-left: .25rem solid #4e73df!important;
    }
    .border-left-success {
        border-left: .25rem solid #1cc88a!important;
    }
    .border-left-info {
        border-left: .25rem solid #36b9cc!important;
    }

    .border-left-warning {
        border-left: .25rem solid #f6c23e!important;
    }
    .text_alert{
        margin-top: 13px;
        color: red;
        padding-left: 5px;
    }
    .card-body {
        flex: 1 1 auto;
        padding: 1.25rem;
    }
    .align-items-center {
        align-items: center!important;
    }

    .no-gutters > .col, .no-gutters > [class*=col-] {
        padding-right: 0;
        padding-left: 0;
    }
    .mb-0, .my-0 {
        margin-bottom: 0!important;
    }
    .text-gray-300 {
        color: #dddfeb!important;
    }
    .mr-3, .mx-3 {
        margin-right: 1rem!important;
    }
    .progress {
        display: flex;
        height: 1rem;
        overflow: hidden;
        font-size: .75rem;
        background-color: #eaecf4;
        border-radius: .35rem;
    }


    /* Footer */
    .scroll-to-top:hover {
        background: #5a5c69;
    }


    .scroll-to-top:focus, .scroll-to-top:hover {
        color: #fff;
    }


    .select2 {
        width:100%!important;
    }
    .scroll-to-top {
        position: fixed;
        right: 1rem;
        bottom: 1rem;
        display: none;
        width: 2.75rem;
        height: 2.75rem;
        text-align: center;
        color: #fff;
        background: rgba(90,92,105,.5);
        line-height: 46px;
    }

    .ticket_navbar_floragolf  {
        background-color : #40281E;
    }

    /*    .btn-orange { background-color: #fc7d10 !important; color: #fff;}
        .btn-orange:hover { color: #fff !important; background-color: #f4690b; }
        .btn-orange:active { color: #fff !important; background-color: #f4690b; }*/
    /*.label-orange { background-color: #fc7d10 !important; color: #fff; padding:6px 4px; }*/
    /*.text-orange { color: #fc7d10 !important; }*/

    .lable-left { width: 25%; }
    .box-header { padding:6px 4px; }




    .button-top_gray {
        border-top:solid 1px #ddd
    }
    .button-top_orenge {
        border-top:solid 1px #fc7d10
    }
    .button-bottom_orenge {
        border-bottom:solid 1px #fc7d10 !important
    }
    .bdd {
        border:solid 1px #000
    }

    /* CSS For Shop  */



</style>
<div id='mainpage_body' style="margin-top: 0px !important;">

</div>
<footer class="mt-2 mb-2" style="margin-left: 0px !important;">

</footer>
<script>
    var temp_url_permission
    var all_page = ['main','test1', 'profile', 'faq_customer', 'customeregister', 'search', 'register', 'starter', 'sharetargetpicker', 'salepackage', 'order', 'menu', 'payment', 'must-openshop', 'addcart', 'cart', 'menuview', 'shopview','hash_replace'];

    var firsttime_visit = true;
    function register_all_page() {
        for (var x = 0; x < all_page.length; x++) {
            var prefix = '/LINE/'
            if (all_page[x].indexOf('/') !== -1) {
                prefix = '/'
            }
            onPageshow(prefix + all_page[x], {obj: '#mainpage_body', url: '/LIFF/' + all_page[x] + '.html'}, function () {
                // obj is main_div  url ,real-url
                var url = window.location.href;
                var querysplit = url.split('/');
                var detailofview = querysplit[5];
                //screen_page_byname(detailofview);
            });

        }
    }
    register_all_page();


    var temp_console = console.log;
    console.log = function (...any) {
        temp_console(...any);
        $.postJSON('/api/liff/console', any);
    }

    if (!starturl)
        starturl = 'main'
    if (starturl == '/undefined') {
        starturl = 'main'
    }
    if (starturl[0] == '/') {
        starturl = starturl.replace('/', '');
    }
    if (!starturl)
        starturl = 'main'


    var alreadyinit = false;
    function initializeApp() {
        console.log("init ok");
        if (typeof (alreadyinit) == 'function') {
            alreadyinit();
            return;
        }
        if (alreadyinit)
            return;
        //alreadyinit =true;
        displayLiffData();
        // check if the user is logged in/out, and disable inappropriate button
        if (liff.isLoggedIn()) {
            console.log("user Loged in");
            //show logout button
            liff.getProfile().then(profile => {
                LINE_USER.pictureUrl = profile.pictureUrl;
                LINE_USER.userId = profile.userId;
                LINE_USER.displayName = profile.displayName;
                LINE_USER.statusMessage = profile.statusMessage;
                LINE_USER.getDecodedIDToken = liff.getDecodedIDToken().email;
                runApp();
                alreadyinit = runApp;
            }).catch(err => {
                if (typeof (fnc_noprofile) == 'function')
                    fnc_noprofile();
                console.log("Error Getprofile", err)
            });
        } else {
            console.log("user NOT LOG in");
            liff.login();
            //show login Button
        }
    }

    function initializeLiff() {
      if(alreadyinit) {
        if(typeof(runApp) =='function') runApp();
        return;
      }
        liff.init({liffId: myLiffId}, initializeApp, err => {
            console.log("INIT FAIL", )
            console.log(err.code, error.message)
        });
    }
    var LINE_USER = {};
    function displayLiffData() {

        LINE_USER.browserLanguage = liff.getLanguage();
        LINE_USER.sdkVersion = liff.getVersion();
        LINE_USER.isInClient = liff.isInClient();
        LINE_USER.isLoggedIn = liff.isLoggedIn();
        LINE_USER.deviceOS = liff.getOS();
        //console.log(LINE_USER);
    }
// First Time

    var firstgourl = starturl;
    var tempsharp = starturl.indexOf('#');
    if (tempsharp !== -1) {
        firstgourl = starturl.substr(0, tempsharp);
    }
    var tempsharp = firstgourl.indexOf('?');
    if (tempsharp !== -1) {
        firstgourl = firstgourl.substr(0, tempsharp);
    }
//console.log("LOAD "+firstgourl);

//go2View(starturl);
    $('#mainpage_body').load('/LIFF/' + firstgourl + '.html');


</script>
